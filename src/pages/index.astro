---
import Layout from '../layouts/Layout.astro';
import ThemeToggle from '../components/ThemeToggle.astro'
import Logo from '../components/Logo.astro';
import FloatingSocialBar from '../components/FloatingSocialBar.astro';
import IntroductionCard from '@/components/IntroductionCard.astro';
import OpenSourceWrapper from '@/components/OpenSourceWrapper.astro';
import ProjectWrapper from '@/components/ProjectWrapper.astro';
import TalksWrapper from '@/components/TalksWrapper.astro';
import BlogWrapper from '@/components/BlogWrapper.astro';
import FooterCard from '@/components/FooterCard.astro';
import SectionDivider from '@/components/SectionDivider.astro';
---

<Layout title="Shubham Gupta">
  <div class="min-h-screen bg-background py-8">
    <div class="container mx-auto px-4 floating-container">
      <FloatingSocialBar />
      <header class="flex justify-between items-center mb-8">
        <Logo />
        <ThemeToggle />
      </header>
      <main>
        <IntroductionCard />
        <SectionDivider />
        <ProjectWrapper />
        <SectionDivider />
        <OpenSourceWrapper />
        <SectionDivider />
        <TalksWrapper />
        <SectionDivider />
        <BlogWrapper />
        <FooterCard />
      </main>
      
      <script>
        // Scroll animation using Intersection Observer
        document.addEventListener('DOMContentLoaded', () => {
          const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
          };

          const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
              if (entry.isIntersecting) {
                entry.target.classList.add('visible');
                // Optional: stop observing after animation
                observer.unobserve(entry.target);
              }
            });
          }, observerOptions);

          // Observe all elements with scroll-fade-in class
          document.querySelectorAll('.scroll-fade-in').forEach(el => {
            observer.observe(el);
          });
        });
      </script>
    </div>
  </div>
</Layout>

